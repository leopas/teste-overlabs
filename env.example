# Copie para um arquivo chamado ".env" (manual) e ajuste.
#
# Observação: este ambiente bloqueia a criação de dotfiles via editor.
# Em um repo normal, este arquivo se chamaria ".env.example".

# Caminho do host para a pasta DOC-IA (Windows ou Linux/macOS)
# Windows (recomendado usar barras /):
# DOCS_HOST_PATH=C:/Projetos/teste-wayon/DOC-IA
DOCS_HOST_PATH=./DOC-IA

# Portas dos serviços no host (ajuste se houver conflitos)
QDRANT_PORT=6335
API_PORT=8001
REDIS_PORT=6381

# OpenAI (opcional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_MODEL_ENRICHMENT=gpt-4o-mini
USE_OPENAI_EMBEDDINGS=0
OPENAI_EMBEDDINGS_MODEL=text-embedding-3-small

# Observabilidade (opcional)
OTEL_ENABLED=0
OTEL_EXPORTER_OTLP_ENDPOINT=

# Operação
RATE_LIMIT_PER_MINUTE=60
CACHE_TTL_SECONDS=600
LOG_LEVEL=INFO

# Logs detalhados do pipeline (/ask)
# 0 = desligado; 1 = ligado
PIPELINE_LOG_ENABLED=0
# 0 = não inclui excerpts; 1 = inclui excerpts curtos dos chunks
PIPELINE_LOG_INCLUDE_TEXT=0

# Auditoria / rastreabilidade
AUDIT_LOG_ENABLED=1
TRACE_SINK=mysql              # none|mysql
AUDIT_LOG_INCLUDE_TEXT=1      # grava redacted sempre quando enabled
AUDIT_LOG_RAW_MODE=risk_only  # off|risk_only|always
AUDIT_LOG_RAW_MAX_CHARS=2000  # cortar para evitar payload gigante
AUDIT_LOG_REDACT=1

# Criptografia (SIMPLES, mas correta)
# 32 bytes base64 (AES-256). Gere com: python -c "import os,base64; print(base64.b64encode(os.urandom(32)).decode())"
AUDIT_ENC_KEY_B64=
AUDIT_ENC_AAD_MODE=trace_id   # trace_id|request_id|none

# Classificação de abuso
ABUSE_CLASSIFIER_ENABLED=1
ABUSE_RISK_THRESHOLD=0.80     # acima disso salva raw em risk_only

# MySQL (para trace store e audit log)
MYSQL_HOST=
MYSQL_PORT=3306
MYSQL_DATABASE=
MYSQL_USER=
MYSQL_PASSWORD=
MYSQL_SSL_CA=

# Prompt Firewall (WAF de prompt, regras em arquivo)
PROMPT_FIREWALL_ENABLED=0
PROMPT_FIREWALL_RULES_PATH=config/prompt_firewall.regex
PROMPT_FIREWALL_MAX_RULES=200
PROMPT_FIREWALL_RELOAD_CHECK_SECONDS=2
FIREWALL_LOG_SAMPLE_RATE=0.01

